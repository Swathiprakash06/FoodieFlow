<!DOCTYPE html>
<html>
    <head>
        <title>Sign in</title>
        {% load static %}
        <link rel="stylesheet" href="{% static 'styles.css' %}">
    </head>
    <body>      
     <div class="navbar">
    <div class="nav-left">
        <h2>üçî FoodieFlow</h2>
    </div>
    <div class="nav-right nav-actions">
        <button onclick="history.back()" class="btn-nav-primary">
            Back
        </button>
    </div>
</div> 

     <div class="auth-page-wrapper">
    <div class="auth-card">
        <h2>Welcome Back!</h2>
        <p>Log in to continue your culinary journey.</p>
        
        <form  action="{% url 'signin' %}" method="POST">
            {% csrf_token %}
            <div class="form-group">
                <label>Username</label>
                <input type="text" name="username" placeholder="Your username" required>
            </div>

            <div class="form-group">
    <label>Password</label>
    <div class="password-wrapper" style="position: relative;">
        <input type="password" name="password" id="passwordField" placeholder="Your password" required style="width: 100%; padding-right: 40px;">
        <span id="togglePassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; user-select: none;">
            üëÅÔ∏è
        </span>
    </div>
</div>

            <button type="submit" class="btn full-width">Sign In</button>
        </form>
        
        <div style="text-align: center; margin-top: 20px;">
            <span style="color: #636e72;">New to FoodieFlow?</span> 
            <a href="/open_signup" style="color: #2ecc71; font-weight: 600; text-decoration: none;">Create Account</a>
        </div>
    </div>
</div>
{% if messages %}
  {% for message in messages %}
    <div class="alert {{ message.tags }}">
        {{ message }}
    </div>
  {% endfor %}
{% endif %}
<script>
setTimeout(() => {
    document.querySelectorAll('.alert').forEach(t => {
        t.style.opacity = '0';
        setTimeout(() => t.remove(), 400);
    });
}, 3000);
const togglePassword = document.querySelector('#togglePassword');
const password = document.querySelector('#passwordField');

togglePassword.addEventListener('click', function (e) {
    // toggle the type attribute
    const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
    password.setAttribute('type', type);
    
    // toggle the eye icon
    this.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üï∂Ô∏è';
});
</script>
    </body>
</html> 
